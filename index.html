<!DOCTYPE html>
<html>
<head>
    <title>Neighborhood Map</title>
	<meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="bower_components/bootstrap-theme-bootswatch-flatly/css/bootstrap.min.css" />
    <link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css" />
    <link href="css/main.css" rel="stylesheet" />
</head>
<body>
    <div class="sidebar pull-right">
        <div class="title">
            <h3>Places to eat at Wichita</h3>
        </div>
        <div class="filter input-group input-group-sm">
            <input data-bind="value: filterText, event: { 'keyup': onKeyPressFilterText }" placeholder="Filter Locations" class="form-control" />
            <span class="input-group-btn">
                <button data-bind="click: filterRestaurants" class="btn btn-default">
                    <i class="fa fa-search"></i> Filter
                </button>
            </span>
        </div>

        <ul class="list-group list-overflow-scroll list-item-pointer" data-bind="foreach: filteredRestaurants()">
            <li class="list-group-item" data-bind="text: name, click: selectRestaurant"></li>
        </ul>
    </div>
    <div id="body">
        <div class="header-bar">
            <i class="fa fa-bars fa-2x pull-right toggle-sidebar" onclick="toggleSidebar();"></i>
        </div>
        <div id="map" class="map-box"></div>
    </div>

    <script src="bower_components/knockout/dist/knockout.js"></script>
    <script src="bower_components/jquery/dist/jquery.min.js"></script>

    <!-- Google Maps callbacks -->
    <script>
        function gmapsSuccess() {
            // from main.js
            app.initMap();
        }

        function gmapsError() {
            $("#map").html("<strong>There was a problem loading Google Maps. Please <b>refresh</b> the page or contact the administrator.</strong>")
        }
    </script>
    <script async src="https://maps.googleapis.com/maps/api/js?callback=gmapsSuccess" onerror="gmapsError()"></script>
    <script src="bower_components/gmaps/gmaps.min.js"></script>

    <script src="js/locations.js"></script>
    <script src="js/view_models/restaurants.js"></script>
    <script src="js/main.js"></script>

    <script>
        function toggleSidebar() {
            $(".sidebar").toggleClass("sidebar-hidden");
            $(".toggle-sidebar").toggleClass("toggle-sidebar-full");
        }
    </script>
</body>
</html>
